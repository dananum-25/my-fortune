*{box-sizing:border-box}
html,body{margin:0;height:100%;background:#0b0b10;color:#fff;font-family:system-ui,-apple-system}
.topbar{position:sticky;top:0;z-index:50;display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:rgba(10,10,16,.9);backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,.08)}
.brand{display:flex;gap:8px;align-items:center}.title{font-weight:700;font-size:14px}
.sound-btn{border-radius:18px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.4);color:#fff;padding:6px 10px}

.app{height:calc(100vh - 56px - 60px);display:flex;flex-direction:column;gap:10px;padding:10px 12px}

.cat-card{border-radius:16px;background:linear-gradient(180deg,rgba(120,90,200,.15),rgba(20,20,30,.2));border:1px solid rgba(255,255,255,.1);overflow:hidden}
.cat-media{aspect-ratio:16/9}.cat-media img{width:100%;height:100%;object-fit:cover}
.cat-caption{padding:10px 12px}.cat-line{font-weight:700}.cat-sub{opacity:.9;font-size:12px}

.tarot-stage{padding:8px;border-radius:16px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08)}
.big-backs{display:flex;gap:10px;justify-content:center}
.big-back{width:min(26vw,120px);aspect-ratio:2/3;border-radius:12px;background:url('/assets/tarot/back.png') center/cover no-repeat;box-shadow:0 6px 18px rgba(0,0,0,.5)}

.picker{border-radius:16px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);padding:10px}
.picker-title{font-weight:700;font-size:13px;margin-bottom:8px}
.grid78{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.pick{aspect-ratio:2/3;border-radius:10px;background:url('/assets/tarot/back.png') center/cover no-repeat;border:1px solid rgba(255,255,255,.12)}
.pick.sel{outline:2px solid #d8b86a;box-shadow:0 0 14px rgba(216,184,106,.6);transform:translateY(-2px)}
.pick.dis{opacity:.4;pointer-events:none}

.chat-wrap{flex:1;border-radius:16px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);overflow:hidden}
.chat-container{height:100%;overflow-y:auto;padding:12px;display:flex;flex-direction:column;gap:10px}
.msg{max-width:78%;padding:10px 12px;border-radius:16px;font-size:13px}
.msg.user{margin-left:auto;background:#4a7cff;border-bottom-right-radius:6px}
.msg.cat{background:#2a2a33;border-bottom-left-radius:6px}

.chat-input{position:sticky;bottom:0;display:flex;gap:8px;padding:10px 12px;background:rgba(10,10,16,.95);border-top:1px solid rgba(255,255,255,.08)}
.chat-input input{flex:1;padding:12px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.35);color:#fff}
.chat-input button{padding:0 14px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:#4a7cff;color:#fff;font-weight:700}

/* 모달 */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.6);z-index:80}
.hidden{display:none}
.modal-card{width:86%;max-width:360px;border-radius:18px;background:linear-gradient(180deg,rgba(80,60,160,.35),rgba(20,20,30,.95));border:1px solid rgba(255,255,255,.18);padding:16px;text-align:center}
.modal-title{font-weight:800;font-size:16px}
.modal-sub{opacity:.9;font-size:13px;margin:8px 0 12px}
.modal-actions{display:flex;gap:10px;justify-content:center}
.btn{padding:10px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.2)}
.btn.primary{background:#d8b86a;color:#111}
.btn.ghost{background:transparent;color:#fff}

/* 연출 */
@keyframes ignite{0%{filter:brightness(1)}50%{filter:brightness(1.4)}100%{filter:brightness(1)}}
@keyframes smoke{0%{opacity:1;filter:blur(0)}100%{opacity:0;filter:blur(6px)}}
